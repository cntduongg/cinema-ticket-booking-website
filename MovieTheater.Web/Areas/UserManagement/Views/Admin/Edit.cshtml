@model MovieTheater.Web.Areas.UserManagement.Models.UpdateUserViewModel
@{
    ViewData["SidebarActive"] = "UserManagement";
    ViewData["Title"] = "Ch·ªânh s·ª≠a ng∆∞·ªùi d√πng";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";

}


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
<link rel="stylesheet" href="~/css/edit-profile.css" />

<div class="edit-user-page-3d">
    <div class="background-overlay-3d"></div>

    <div class="container-3d">
        <!-- Header Section -->
        <div class="page-header-3d">
            <div class="header-content-3d">
                <div class="header-icon-3d">
                    <i class="fas fa-user-edit"></i>
                </div>
                <div class="header-text-3d">
                    <h1 class="page-title-3d">Ch·ªânh s·ª≠a ng∆∞·ªùi d√πng</h1>
                    <p class="page-subtitle-3d">C·∫≠p nh·∫≠t th√¥ng tin t√†i kho·∫£n trong h·ªá th·ªëng</p>
                </div>
            </div>
            <div class="breadcrumb-3d">
                <a href="#" class="breadcrumb-item-3d">
                    <i class="fas fa-tachometer-alt"></i>
                    Dashboard
                </a>
                <i class="fas fa-chevron-right breadcrumb-separator"></i>
                <a href="#" class="breadcrumb-item-3d">
                    <i class="fas fa-users"></i>
                    Qu·∫£n l√Ω ng∆∞·ªùi d√πng
                </a>
                <i class="fas fa-chevron-right breadcrumb-separator"></i>
                <span class="breadcrumb-item-3d active">
                    <i class="fas fa-edit"></i>
                    Ch·ªânh s·ª≠a
                </span>
            </div>
        </div>

        <!-- Form Card -->
        <div class="form-card-3d">
            <div class="card-header-3d">
                <div class="card-header-content-3d">
                    <div class="card-icon-3d">
                        <i class="fas fa-user-cog"></i>
                    </div>
                    <div class="card-title-3d">
                        <h2>Th√¥ng tin c√° nh√¢n</h2>
                        <p>C·∫≠p nh·∫≠t th√¥ng tin chi ti·∫øt c·ªßa ng∆∞·ªùi d√πng</p>
                    </div>
                </div>
                <div class="card-status-3d">
                    <i class="fas fa-circle status-online"></i>
                    <span>ƒêang ch·ªânh s·ª≠a</span>
                </div>
            </div>

            <div class="card-body-3d">
                <!-- Error Messages -->
                @if (!ViewContext.ModelState.IsValid)
                {
                    <div class="alert-3d error">
                        <div class="alert-icon-3d">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div class="alert-content-3d">
                            <div class="alert-title-3d">C√≥ l·ªói x·∫£y ra!</div>
                            <ul class="alert-list-3d">
                                @foreach (var error in ViewContext.ModelState.Values.SelectMany(v => v.Errors))
                                {
                                    <li>@error.ErrorMessage</li>
                                }
                            </ul>
                        </div>
                        <button class="alert-close-3d" onclick="closeAlert(this)">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                }

                <form asp-action="Edit" method="post" class="user-form-3d" id="editUserForm">
                    <div class="form-grid-3d">
                        <!-- Personal Information Section -->
                        <div class="form-section-3d">
                            <div class="section-header-3d">
                                <div class="section-icon-3d personal">
                                    <i class="fas fa-user"></i>
                                </div>
                                <div class="section-title-3d">
                                    <h3>Th√¥ng tin c√° nh√¢n</h3>
                                    <p>Th√¥ng tin c∆° b·∫£n c·ªßa ng∆∞·ªùi d√πng</p>
                                </div>
                            </div>

                            <div class="form-row-3d">
                                <div class="form-group-3d">
                                    <label asp-for="FullName" class="form-label-3d">
                                        <i class="fas fa-signature"></i>
                                        H·ªç v√† t√™n
                                        <span class="required-star">*</span>
                                    </label>
                                    <div class="input-wrapper-3d">
                                        <input asp-for="FullName" class="form-input-3d" placeholder="Nh·∫≠p h·ªç v√† t√™n ƒë·∫ßy ƒë·ªß" />
                                        <div class="input-icon-3d">
                                            <i class="fas fa-user"></i>
                                        </div>
                                    </div>
                                    @* <span asp-validation-for="FullName" class="error-message-3d">@Html.ValidationMessageFor(m => m.FullName)</span> *@
                                </div>

                                <div class="form-group-3d">
                                    <label asp-for="DateOfBirth" class="form-label-3d">
                                        <i class="fas fa-birthday-cake"></i>
                                        Ng√†y sinh
                                    </label>
                                    <div class="input-wrapper-3d">
                                        <input asp-for="DateOfBirth" class="form-input-3d" type="date" />
                                        <div class="input-icon-3d">
                                            <i class="fas fa-calendar-alt"></i>
                                        </div>
                                    </div>
                                    @* <span asp-validation-for="DateOfBirth" class="error-message-3d">@Html.ValidationMessageFor(m => m.DateOfBirth)</span> *@
                                </div>
                            </div>

                            <div class="form-row-3d">
                                <div class="form-group-3d">
                                    <label asp-for="Sex" class="form-label-3d">
                                        <i class="fas fa-venus-mars"></i>
                                        Gi·ªõi t√≠nh
                                    </label>
                                    <div class="select-wrapper-3d">
                                        <select asp-for="Sex" class="form-select-3d">
                                            <option value="">Ch·ªçn gi·ªõi t√≠nh</option>
                                            <option value="Nam">üë® Nam</option>
                                            <option value="N·ªØ">üë© N·ªØ</option>
                                        </select>
                                        <div class="select-icon-3d">
                                            <i class="fas fa-chevron-down"></i>
                                        </div>
                                    </div>
                                    @* <span asp-validation-for="Sex" class="error-message-3d">@Html.ValidationMessageFor(m => m.Sex)</span> *@
                                </div>

                                <div class="form-group-3d">
                                    <label asp-for="IdentityCard" class="form-label-3d">
                                        <i class="fas fa-id-card"></i>
                                        CMND/CCCD
                                        <span class="required-star">*</span>
                                    </label>
                                    <div class="input-wrapper-3d">
                                        <input asp-for="IdentityCard" class="form-input-3d" placeholder="Nh·∫≠p s·ªë CMND/CCCD" />
                                        <div class="input-icon-3d">
                                            <i class="fas fa-id-card"></i>
                                        </div>
                                    </div>
                                    @* <span asp-validation-for="IdentityCard" class="error-message-3d">@Html.ValidationMessageFor(m => m.IdentityCard)</span> *@
                                </div>
                            </div>
                        </div>

                        <!-- Contact Information Section -->
                        <div class="form-section-3d">
                            <div class="section-header-3d">
                                <div class="section-icon-3d contact">
                                    <i class="fas fa-address-book"></i>
                                </div>
                                <div class="section-title-3d">
                                    <h3>Th√¥ng tin li√™n h·ªá</h3>
                                    <p>Email, s·ªë ƒëi·ªán tho·∫°i v√† ƒë·ªãa ch·ªâ</p>
                                </div>
                            </div>

                            <div class="form-row-3d">
                                <div class="form-group-3d full-width">
                                    <label asp-for="Email" class="form-label-3d">
                                        <i class="fas fa-envelope"></i>
                                        Email
                                        <span class="required-star">*</span>
                                    </label>
                                    <div class="input-wrapper-3d">
                                        <input asp-for="Email" class="form-input-3d" type="email" placeholder="example@domain.com" />
                                        <div class="input-icon-3d">
                                            <i class="fas fa-at"></i>
                                        </div>
                                    </div>
                                    @* <span asp-validation-for="Email" class="error-message-3d">@Html.ValidationMessageFor(m => m.Email)</span> *@
                                </div>
                            </div>

                            <div class="form-row-3d">
                                <div class="form-group-3d">
                                    <label asp-for="PhoneNumber" class="form-label-3d">
                                        <i class="fas fa-phone"></i>
                                        S·ªë ƒëi·ªán tho·∫°i
                                        <span class="required-star">*</span>
                                    </label>
                                    <div class="input-wrapper-3d">
                                        <input asp-for="PhoneNumber" class="form-input-3d" placeholder="0xxx xxx xxx" />
                                        <div class="input-icon-3d">
                                            <i class="fas fa-phone"></i>
                                        </div>
                                    </div>
                                    @* <span asp-validation-for="PhoneNumber" class="error-message-3d">@Html.ValidationMessageFor(m => m.PhoneNumber)</span> *@
                                </div>

                                <div class="form-group-3d">
                                    <label asp-for="Address" class="form-label-3d">
                                        <i class="fas fa-map-marker-alt"></i>
                                        ƒê·ªãa ch·ªâ
                                    </label>
                                    <div class="input-wrapper-3d">
                                        <input asp-for="Address" class="form-input-3d" placeholder="Nh·∫≠p ƒë·ªãa ch·ªâ ƒë·∫ßy ƒë·ªß" />
                                        <div class="input-icon-3d">
                                            <i class="fas fa-home"></i>
                                        </div>
                                    </div>
                                    @* <span asp-validation-for="Address" class="error-message-3d">@Html.ValidationMessageFor(m => m.Address)</span> *@
                                </div>
                            </div>
                        </div>

                        <!-- System Settings Section -->
                        <div class="form-section-3d">
                            <div class="section-header-3d">
                                <div class="section-icon-3d system">
                                    <i class="fas fa-cogs"></i>
                                </div>
                                <div class="section-title-3d">
                                    <h3>C√†i ƒë·∫∑t h·ªá th·ªëng</h3>
                                    <p>Vai tr√≤ v√† tr·∫°ng th√°i t√†i kho·∫£n</p>
                                </div>
                            </div>

                            <div class="form-row-3d">
                                <div class="form-group-3d">
                                    <label asp-for="Role" class="form-label-3d">
                                        <i class="fas fa-user-tag"></i>
                                        Vai tr√≤
                                        <span class="required-star">*</span>
                                    </label>
                                    <div class="select-wrapper-3d">
                                        <select asp-for="Role" class="form-select-3d">
                                            <option value="">Ch·ªçn vai tr√≤</option>
                                            <option value="Employee">üë®‚Äçüíº Nh√¢n vi√™n</option>
                                            <option value="Customer">üë§ Kh√°ch h√†ng</option>
                                        </select>
                                        <div class="select-icon-3d">
                                            <i class="fas fa-chevron-down"></i>
                                        </div>
                                    </div>
                                    @* <span asp-validation-for="Role" class="error-message-3d">@Html.ValidationMessageFor(m => m.Role)</span> *@
                                </div>

                                <div class="form-group-3d">
                                    <label class="form-label-3d">
                                        <i class="fas fa-shield-alt"></i>
                                        Tr·∫°ng th√°i t√†i kho·∫£n
                                    </label>
                                    <div class="toggle-wrapper-3d">
                                        <input asp-for="IsLocked" class="toggle-input-3d" type="checkbox" id="lockToggle" />
                                        <label for="lockToggle" class="toggle-label-3d">
                                            <span class="toggle-slider-3d"></span>
                                            <span class="toggle-text-3d">
                                                <span class="toggle-on">üîí Kh√≥a t√†i kho·∫£n</span>
                                                <span class="toggle-off">üîì T√†i kho·∫£n ho·∫°t ƒë·ªông</span>
                                            </span>
                                        </label>
                                    </div>
                                    @* <span asp-validation-for="IsLocked" class="error-message-3d">@Html.ValidationMessageFor(m => m.IsLocked)</span> *@
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Form Actions -->
                    <div class="form-actions-3d">
                        <div class="actions-left-3d">
                            <button type="button" class="action-btn-3d secondary" onclick="resetForm()">
                                <i class="fas fa-undo"></i>
                                <span>ƒê·∫∑t l·∫°i</span>
                            </button>
                        </div>
                        <div class="actions-right-3d">
                            <a asp-action="UserManagement" class="action-btn-3d outline">
                                <i class="fas fa-arrow-left"></i>
                                <span>Quay l·∫°i</span>
                            </a>
                            <button type="submit" class="action-btn-3d primary" id="saveBtn">
                                <i class="fas fa-save"></i>
                                <span>L∆∞u thay ƒë·ªïi</span>
                                <div class="btn-loader-3d" style="display: none;">
                                    <i class="fas fa-spinner fa-spin"></i>
                                </div>
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div class="modal-overlay-3d" id="successModal" style="display: none;">
        <div class="modal-3d success">
            <div class="modal-content-3d">
                <div class="modal-icon-3d">
                    <i class="fas fa-check-circle"></i>
                </div>
                <h3 class="modal-title-3d">Th√†nh c√¥ng!</h3>
                <p class="modal-message-3d">Th√¥ng tin ng∆∞·ªùi d√πng ƒë√£ ƒë∆∞·ª£c c·∫≠p nh·∫≠t th√†nh c√¥ng.</p>
                <button class="modal-btn-3d" onclick="closeSuccessModal()">
                    <i class="fas fa-check"></i>
                    ƒê·ªìng √Ω
                </button>
            </div>
        </div>
    </div>
</div>

<script src="~/js/edit-user-3d.js"></script>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}